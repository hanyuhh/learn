webpackJsonp([24],{"/On5":function(e,t,a){t=e.exports=a("YfG4")(!1),t.push([e.i,"\n.el-table .info-row[data-v-bcfc1ed6]{\r\n    background: yellow;\r\n    color:red\n}\n.el-table  .positive-row[data-v-bcfc1ed6]{\r\n      background: blue\n}\n.week-con[data-v-bcfc1ed6]{\r\n    margin:10px\n}\n.chart-container[data-v-bcfc1ed6]{\r\n  display:block;\r\n  /*background:#0D182B*/\n}\r\n",""])},BCAL:function(e,t,a){var s=a("nJ8+");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a("XkoO")("56fbcb64",s,!1)},P6W2:function(e,t,a){"use strict";function s(e){i||a("BCAL")}var n=a("c6R9"),o=a("lLyf"),i=!1,r=a("J0+h"),l=s,c=r(n.a,o.a,l,"data-v-a3bc793e",null);c.options.__file="src\\components\\Charts\\chart.vue",c.esModule&&Object.keys(c.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),c.options.functional&&console.error("[vue-loader] chart.vue: functional components are not supported with templates, they should use render functions."),t.a=c.exports},S0x0:function(e,t,a){var s=a("ZFt7");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a("XkoO")("7556a8b1",s,!1)},ZFt7:function(e,t,a){t=e.exports=a("YfG4")(!1),t.push([e.i,"\n.tablecon{\n      text-align: center\n}\n.successCon{\n      background: #01b0f1\n}\n.okNumCon{\n      /* background: blue */\n}\n.info-row{\n      background:'#1B0F1'\n}\n.el-table  .positive-row{\n      background: #BFBFBF\n}\n.el-table .little-row{\n    color:red\n}\n.barCharts {\n    width: 100%; \n    height: 430px;\n} \n  ",""])},c6R9:function(e,t,a){"use strict";var s=a("FL0h"),n=a.n(s);t.a={props:["option"],data:function(){return{cid:String(10*Math.random())}},methods:{_init:function(){window.addEventListener("resize",function(){this.myChart.resize()}.bind(this))}},mounted:function(){this.$nextTick(function(){this.myChart=n.a.init(document.getElementById(this.cid)),console.log(this.option),this.myChart.setOption(this.option),this._init()})}}},dNCY:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"components-container",staticStyle:{height:"100vh"}},[a("h1",{staticStyle:{"vertical-align":"center"}},[a("span",[e._v("全员营销统计")]),e._v(" "),a("el-date-picker",{staticClass:"week-con",attrs:{type:"week",format:"yyyy 第 WW 周",placeholder:"选择周"},model:{value:e.week,callback:function(t){e.week=t},expression:"week"}})],1),e._v(" "),a("div",{staticClass:"chart-container"},[a("el-row",{staticStyle:{"padding-bottom":"40px"},attrs:{gutter:20}},[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24}},[a("el-table",{attrs:{data:e.partnerData,border:"","row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{align:"center",prop:"name",label:"渠道",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{width:"80",align:"center",prop:"scale",label:"比例"}}),e._v(" "),a("el-table-column",{attrs:{align:"center","class-name":"successCon",prop:"successNum",width:"190",label:"共享营销下线成交套数"}}),e._v(" "),a("el-table-column",{attrs:{"class-name":"info-row",align:"center",width:"140",prop:"houseMoney",label:"保底销售额住宅"}}),e._v(" "),a("el-table-column",{attrs:{prop:"houseNum",align:"center",width:"140",label:"保底销售量(套)"}}),e._v(" "),a("el-table-column",{attrs:{"class-name":"okNumCon",prop:"okNum",align:"center",width:"90",label:"成交量"}}),e._v(" "),a("el-table-column",{attrs:{prop:"saleMoney",align:"center",width:"110",label:"销售额(万)"}}),e._v(" "),a("el-table-column",{attrs:{prop:"okScale",width:"100",align:"center",label:"成交比例"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sum",width:"90",align:"center",label:"统计量"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sumbi",width:"190",align:"center",label:"统计量与保底销量差异"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sumScale",align:"center",width:"98",label:"统计比例"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ps","header-align":"center",label:"备注（9月份成交名单）"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:12}})],1),e._v(" "),a("el-row",{staticStyle:{padding:"10px"},attrs:{gutter:20}},[a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"销量",name:"first"}},[a("chart",{attrs:{option:e.partnerOption}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"销售额",name:"second"}},[a("div",{staticClass:"barCharts",attrs:{id:"myChart"}})]),e._v(" "),a("el-tab-pane",{attrs:{label:"销售比例",name:"third"}},[a("el-row",{staticStyle:{"padding-bottom":"40px"},attrs:{gutter:20}},[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:8}},[a("div",{staticClass:"barCharts",attrs:{id:"myChart2"}})]),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:16}},[a("div",{staticClass:"barCharts",attrs:{id:"myChart1"}})])],1)],1)],1)],1)],1)])},n=[];s._withStripped=!0;var o={render:s,staticRenderFns:n};t.a=o},du1R:function(e,t,a){var s=a("/On5");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a("XkoO")("85a4f456",s,!1)},lLyf:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"barCharts",attrs:{id:e.cid}})},n=[];s._withStripped=!0;var o={render:s,staticRenderFns:n};t.a=o},"nJ8+":function(e,t,a){t=e.exports=a("YfG4")(!1),t.push([e.i,"\n.barCharts[data-v-a3bc793e] {\r\n  min-width: 500px; \r\n  min-height: 430px;\n}  \r\n\r\n",""])},osIu:function(e,t,a){"use strict";function s(e){i||(a("S0x0"),a("du1R"))}Object.defineProperty(t,"__esModule",{value:!0});var n=a("zh5N"),o=a("dNCY"),i=!1,r=a("J0+h"),l=s,c=r(n.a,o.a,l,"data-v-bcfc1ed6",null);c.options.__file="src\\views\\pages\\keyJob\\allSale\\quanyuanyingxiao\\index.vue",c.esModule&&Object.keys(c.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),c.options.functional&&console.error("[vue-loader] index.vue: functional components are not supported with templates, they should use render functions."),t.default=c.exports},zh5N:function(e,t,a){"use strict";var s=a("P6W2"),n=a("FL0h"),o=a.n(n);t.a={data:function(){return{week:new Date,partnerOption:{},saleMoneyOption:{},saleScaleOption:{},pieOption:{},activeName:"first",myChart:null,myChart1:null,myChart2:null,saleOption:{},partnerData:[{name:"集团管理",scale:"7%",successNum:"0",houseMoney:"400",houseNum:"4",okNum:"3",saleMoney:"366",okScale:"75%",sum:"4",sumbi:"0",sumScale:"100%",ps:"符征3(洋房1抵2),张永健"},{name:"伟钢物联",scale:"10%",successNum:"1",houseMoney:"800",houseNum:"9",okNum:"6",saleMoney:"522",okScale:"68%",sum:"6",sumbi:"-3",sumScale:"68%",ps:"张向刚,张永健"},{name:"地产板块",scale:"13%",successNum:"1",houseMoney:"1040",houseNum:"12",okNum:"7",saleMoney:"812",okScale:"61%",sum:"10",sumbi:"-2",sumScale:"87%",ps:"符征3(洋房1抵2),张永健"},{name:"电商产业园",scale:"5%",successNum:"0",houseMoney:"560",houseNum:"6",okNum:"0",saleMoney:"0",okScale:"0%",sum:"0",sumbi:"-6",sumScale:"0%",ps:"符征3(洋房1抵2),张永健"},{name:"小计",scale:"35%",successNum:"2",houseMoney:"2800",houseNum:"31",okNum:"16",saleMoney:"1700",okScale:"51%",sum:"20",sumbi:"-11",sumScale:"64%",ps:"符征3(洋房1抵2),张永健"},{name:"共享营销",scale:"65%",successNum:"3",houseMoney:"5200",houseNum:"58",okNum:"52",saleMoney:"4631",okScale:"90%",sum:"55",sumbi:"-3",sumScale:"95%",ps:"符征3(洋房1抵2),张永健"},{name:"总计",scale:"100%",successNum:"5",houseMoney:"8000",houseNum:"89",okNum:"68",saleMoney:"6331",okScale:"77%",sum:"75",sumbi:"-13",sumScale:"84%",ps:"符征3(洋房1抵2),张永健"}]}},components:{chart:s.a},methods:{_init:function(){window.addEventListener("resize",function(){this.myChart.resize()}.bind(this))},handleClick:function(){var e=this;e.myChart&&(e.myChart.clear(),o.a.dispose()),e.myChart1&&(e.myChart1.clear(),o.a.dispose()),e.myChart2&&(e.myChart2.clear(),o.a.dispose()),setTimeout(function(){e.setSaleMoneyOption(),e.setSaleScaleyOption(),e.setPieOption(),e.myChart=o.a.init(document.getElementById("myChart")),e.myChart.setOption(e.saleMoneyOption),e.myChart1=o.a.init(document.getElementById("myChart1")),e.myChart1.setOption(e.saleScaleOption),e.myChart2=o.a.init(document.getElementById("myChart2")),e.myChart2.setOption(e.pieOption),e._init()},100)},tableRowClassName:function(e,t){return 1===t?"info-row":4===t?"positive-row":6===t?"little-row":""},setPieOption:function(){var e=this.solvePieOption(),t={tooltip:{trigger:"item",formatter:"{a} <br/>{b} :{d}%"},label:{normal:{formatter:"{b} :{d}%"}},legend:{bottom:"0",data:e.xAlisData},series:[{name:"统计比例",type:"pie",radius:"55%",center:["50%","50%"],data:e.series,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};this.pieOption=t},solvePieOption:function(){var e={},t=this.partnerData,a=[],s=[];return t.forEach(function(e){"小计"!=e.name&&"总计"!=e.name&&a.push(e.name);var t=(e.scale.slice(0,e.scale.length-1),{});"小计"!=e.name&&"总计"!=e.name&&(t.name=e.name,t.value=e.scale.slice(0,e.scale.length-1)),s.push(t)}),e.series=s,e.xAlisData=a,e},setPartnerOption:function(){var e=this.solveParnerData(),t={};t.tooltip={trigger:"axis"},t.backgroundColor="white",t.color=[this.$utils.actualColor,"#ef5c4c","#C23531","#ef5c4c"],t.grid={top:"15%",left:"5%",right:"5%"},t.xAxis=[{type:"category",data:e.xAlisData}],t.yAxis=[{type:"value",name:"套"}],t.legend={data:["保底销量","成交销量","统计量","统计量与保底销量差异"],bottom:"1%",selected:{"保底销量":!0,"成交销量":!0,"统计量":!0,"统计量与保底销量差异":!1}},t.series=e.series,this.partnerOption=t},solveParnerData:function(){var e={},t=this.partnerData,a=[],s=[],n=[],o=[],i=[],r=[],l={},c={},u={},p={};return t.forEach(function(e){a.push(e.name),s.push(e.houseNum),n.push(e.okNum),o.push(e.sum),i.push(e.sumbi)}),l.name="保底销量",l.type="bar",l.barGap=.1,l.barWidth=this.$utils.chartH,l.label={normal:{show:!0,position:"top"}},l.data=s,c.name="成交销量",c.type="bar",c.barWidth=this.$utils.chartH,c.label={normal:{show:!0,position:"top"}},c.data=n,u.name="统计量",u.type="bar",u.barWidth=this.$utils.chartH,u.stack="套",u.label={normal:{show:!0,position:"top"}},u.data=o,p.name="统计量与保底销量差异",p.barGap=.1,p.barWidth=this.$utils.chartH,p.type="bar",p.label={normal:{show:!0,position:"top"}},p.data=i,r.push(l,c,u,p),e.series=r,e.xAlisData=a,e},combineCell:function(e){for(field in e[0])for(var t=0;t<e.length;){e[t][field+"span"]=1,e[t][field+"dis"]=!1;for(var a=t+1;a<=e.length-1&&(e[t][field]==e[a][field]&&""!=e[t][field]);a++)e[t][field+"span"]++,e[t][field+"dis"]=!1,e[a][field+"span"]=1,e[a][field+"dis"]=!0;t=a}return e},setSaleScaleyOption:function(){var e=this.solveSaleScaleOption(),t={};t.tooltip={trigger:"axis"},t.color=[this.$utils.actualColor,"#ef5c4c","#3398DB"],t.backgroundColor="white",t.grid={top:"15%",left:"5%",right:"5%"},t.xAxis=[{type:"category",data:e.xAlisData}],t.yAxis=[{type:"value",name:"%"}],t.legend={data:["任务比例","成交比例","统计比例"],bottom:"1%"},t.series=e.series,this.saleScaleOption=t},solveSaleScaleOption:function(){var e={},t=this.partnerData,a=[],s=[],n=[],o=[],i=[],r={},l={},c={};return t.forEach(function(e){a.push(e.name);e.scale.slice(0,e.scale.length-1);s.push(e.scale.slice(0,e.scale.length-1)),n.push(e.okScale.slice(0,e.okScale.length-1)),o.push(e.sumScale.slice(0,e.sumScale.length-1))}),r.name="任务比例",r.type="bar",r.barGap=.1,r.barWidth=this.$utils.chartH,r.tooltip={trigger:"item",formatter:"{a} <br/>{b} :{c}%"},r.label={normal:{show:!0,position:"top",formatter:"{c}%"}},r.data=s,l.name="成交比例",l.barWidth=this.$utils.chartH,l.type="bar",l.tooltip={trigger:"item",formatter:"{a} <br/>{b} :{c}%"},l.label={normal:{show:!0,position:"top",formatter:"{c}%"}},l.data=n,c.name="统计比例",c.barWidth=this.$utils.chartH,c.markLine={label:{normal:{formatter:"时间进度"}},lineStyle:{normal:{type:"dashed"}},data:[{yAxis:85}]},c.type="bar",c.label={normal:{show:!0,position:"top",formatter:"{c}%"}},c.data=o,i.push(r,l),e.series=i,e.xAlisData=a,e},setSaleMoneyOption:function(){var e=this.solveSaleMoneyOption(),t={};t.tooltip={trigger:"axis"},t.color=[this.$utils.actualColor,"#ef5c4c"],t.backgroundColor="white",t.grid={top:"15%",left:"5%",right:"5%"},t.xAxis=[{type:"category",data:e.xAlisData}],t.yAxis=[{type:"value",name:"万元",max:1e4}],t.legend={data:["保底销售额","实际销售额"],bottom:"1%"},t.series=e.series,this.saleMoneyOption=t},solveSaleMoneyOption:function(){var e={},t=this.partnerData,a=[],s=[],n=[],o=[],i={},r={};return t.forEach(function(e){a.push(e.name),s.push(e.houseMoney),n.push(e.saleMoney)}),i.name="保底销售额",i.barGap=.1,i.barWidth=this.$utils.chartH,i.type="bar",i.label={normal:{show:!0,position:"top"}},i.data=s,r.name="实际销售额",r.type="bar",r.barWidth=this.$utils.chartH,r.label={normal:{show:!0,position:"top"}},r.data=n,o.push(i,r),e.series=o,e.xAlisData=a,e}},created:function(){this.setPartnerOption(),this.combineCell(),this.setSaleOption()}}}});